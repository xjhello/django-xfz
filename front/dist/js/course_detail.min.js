function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"1a9c537857de44d8802b4856e1dc5152 "});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBR1RBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzFDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxzQ0FHUmIsRUFBT2MsR0FBRyxhQUFhLFNBQVVDLEdBQ3pCLE9BQU9DLEtBQUtELEVBQUVWLE9BR2xCWSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3pCLEVBQ1RHLFVBQWFBLEdBRWpCdUIsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFLbUIsUUFFdkJFLE9BQU9DLFdBQVdDLFNBQVNMLEVBQWdCLFNBQzNDdkIsRUFBTzZCLFFBR2ZDLEtBQVEsU0FBVUMsR0FDZEMsUUFBUUMsSUFBSUYsU0FNaEN4QyxhQUFhQyxVQUFVMEMsSUFBTSxXQUN6QkMsS0FBSzFDLGNBSVRFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoXCIjdmlkZW8taW5mb1wiKTtcclxuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICAgICAgYWs6ICcxYTljNTM3ODU3ZGU0NGQ4ODAyYjQ4NTZlMWRjNTE1MiAnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBsYXllci5vbignYmVmb3JlUGxheScsZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgICAgICd1cmwnOiAnL2NvdXJzZS9jb3Vyc2VfdG9rZW4vJyxcclxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgICAgICAgICAnY291cnNlX2lkJzogY291cnNlX2lkXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8ocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvdXJzZURldGFpbCA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgIGNvdXJzZURldGFpbC5ydW4oKTtcclxufSk7XHJcbiJdfQ==
